-- States: partial maps from variables into values.

-- Empty state (undefined everywhere)
public fun emptyState(x) {
  0
}

-- Putting a binding into a state.
public infix <- before : (st, [x, v]) {
  fun (y) {
    if compare(x, y) == 0 then v else st(y) fi
  }
}
